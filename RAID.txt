---------------------------------------------------------------

RAID-0 : Что это, для чего и как его сделать на примере Windows

---------------------------------------------------------------

RAID (Redundant Array of Independent Disks - Резервированный массив независимых дисков)

— технология виртуализации данных

для объединения нескольких физических дисковых устройств

в логический модуль для повышения отказоустойчивости и (или) производительности.

RAID-0: 2 диска (или несколько) объединяются в 1 с общим пространством.

Запись производится так: 50% КАЖДОГО файла (т.е. - половина файла )записывается на 1 диск,

а другие 50% на 2 диск.

Информация разбивается на блоки данных фиксированной длины (по количеству дисков в массиве)

и записывается на оба/несколько дисков поочередно, то есть один блок на первый диск, а второй блок на второй диск соответственно.

Увеличение количества дисков увеличивает количeство блоков и скорость записи.

Хорошо подходит для случаев когда требуется хранение данных больших обьемов

с высокой скоростью чтения/записи без отказоустойчивости.

Главный минус - потеря хотя бы одного из дисков приведет к полной потере данных!

ПРИМЕР ДЛЯ WINDOWS RAID-0:

--------------------------

RUN: diskmgmt.msc # Управление дисками (Доступно, так же, из консоли управленя компьютером).

Новые диски нужно инициализировать:

Partition style:

- MBR: если диски меньше 4ГБ

- GPT: если диски больше 4ГБ.

ПКМ на любом из обьединяемых дисков --> New Striped Volume (либо в меню : Action --> All Tasks --> New Striped Volume)

--> NEXT --> Переносим обьединяемые диски из Avalable в Selected столбец --> Назначаем букву диска, ФС, Label,

size (если нужно), параметры форматирования --> NEXT --> NEXT --> Мастер запросит подтверждение о том,

что тип дисков смениться с basic на dynamic (это не позволит, например, установить ОС на данные диски) --> Yes

-------------------------------------------------------------------

RAID-1 : Что это, как его создать и восстановить на примере Windows

-------------------------------------------------------------------

RAID 1 (mirroring — «зеркалирование») — массив из двух (или более) дисков, являющихся полными копиями друг друга.

RAID-1 - тип обьединения дисков для обеспечения отказоустойчивости.

Все данные полностью копируются на оба диска.

Плюсы:

- Данные полностью доступны если хотя бы один диск доступен;

- Вероятность выхода из строя обоих дисков ниже чем выход одного;

- Более высокая скорость чтения данных (при распараллеливании запросов);

Минус: за 1 обьем 2-ая оплата.

Хорошо подходит для небольших серверов и критичных БД где требуется отказоустойчивость.

ПРИМЕР ДЛЯ WINDOWS RAID-1:

--------------------------

RUN: diskmgmt.msc

ПКМ на любом из обьединяемых дисков --> New Mirrored Volume

--> NEXT --> Переносим диск с которым будем обьединять из Avalable в Selected столбец

--> Назначаем букву диска, ФС, Label, size (если нужно), параметры форматирования --> NEXT --> NEXT

--> подтверждение, что тип дисков смениться с basic на dynamic --> Yes

Восстановление оставшегося диска, если второй диск вышел из строя:

* В этом случае "рабочий" диск не будет доступен из проводника!

Необходимо:

RUN: diskmgmt.msc

ПКМ на оставшемся из обьединяемых дисков --> Remove Mirror...

Диск восстановится (отобразится в проводнике) - данные снова будут доступны.

При этом, тип восстановленного диска останется - "dynamic".

Можно добавить ему новое зеркало:

ПКМ --> Add Mirror... --> выбираем второй диск --> Yes (type dynamic)

В результате подключения нового зеркала - данные обоих дисков взаимно синхронизируются.

-------------------------------------------------------------------

RAID-5 : Что это, как его создать и восстановить на примере Windows

-------------------------------------------------------------------

RAID-5 — массив независимых дисков с чередованием блоков данных и контролем чётности для обеспечения отказоустойчивости.

Требуется минимум 3 диска (от 3 до 16).

Данные разбиваются на равные блоки.

Блоки данных и контрольные суммы (parity table) циклически записываются на все диски массива.

Под контрольными суммами подразумевается результат операции XOR (исключающее или).

Xor обладает особенностью, которая даёт возможность заменить любой операнд результатом,

и, применив алгоритм xor, получить недостающий операнд.

Пример запси данных:

Dsk1 Dsk2 Dsk3

---- ---- ----

A1 A2 Asum

B1 Bsum B2

Csum C1 C2

где:

- Dsk(n): Номера дисков;

- A,B,C(n): Номера блоков;

- A,B,C(sum): XOR суммы соответствующих блоков.

Плюсы:

- Экономичность (с ростом числа дисков растет):

Объём дискового массива RAID 5 рассчитывается по формуле (n−1)×S,

где n — число дисков в массиве, а S — объём диска (наименьшего, если диски имеют разный размер).

- Высокая скорость чтения.

Минусы: Ниже скорость записи.

При выходе из строя одного диска надёжность тома сразу снижается до уровня RAID 0

с соответствующим количеством дисков n−1. При этом снижается скорость чтения.

ПРИМЕР ДЛЯ WINDOWS RAID-5:

--------------------------

RUN: diskmgmt.msc

ПКМ на любом из обьединяемых дисков --> New RADE-5 Volume

--> NEXT --> Переносим диски с которыми будем обьединять из Avalable в Selected столбец

--> Назначаем букву диска, ФС, Label, size (если нужно), параметры форматирования --> NEXT --> NEXT

--> подтверждение, что тип дисков смениться с basic на dynamic --> Yes

При замене прврежденного диска:

ПКМ на любом из RAID-5 дисков --> Repair Volume --> выбираем диск --> Yes (type dynamic)

В результате подключения (замены) нового диска - происходит "Rebild" - восстановление недостающих блоков.

-------------------------------------------

RAID-10 : Что это, для чего, плюсы и минусы

-------------------------------------------

RAID 10 (RAID 1+0) — зеркалированный массив, типа RAID 0,

сегментами которого вместо отдельных дисков являются массивы RAID 1.

Минимум дисков = 4, т. е. общее пространство двух зеркал.

Пример запси данных:

Dsk1 Dsk2 Dsk3 Dsk4

---- ---- ---- ----

A1 A1 A2 A2

B1 B1 B2 B2

C1 C1 C2 C2

Плюсы:

- Очень высокая скорость чтения/записи;

- Высокая отказоустойчивость (минимум в 2 раза выше чем у RADE-0 и RADE-1).

Минусы: дорого - цена минимум в 2 раза выше.

Отлично подходит для отказоустойчивых высокодоступных БД.

-------------------------------------------

RAID-01 : Что это, для чего, плюсы и минусы

-------------------------------------------

RAID 01 (RAID 0+1) - представляет собой массив типа RAID 1, состоящий из двух вложенных массивов типа RAID 0.

Количество дисков в обоих вложенных массивах RAID 0 должно быть одинаковым,

данный тип может работать лишь с чётным количеством дисков.

Пример запси данных:

Dsk1 Dsk2 Dsk3 Dsk4

---- ---- ---- ----

A1 A2 A1 A2

B1 B2 B1 B2

C1 C2 C1 C2

Так же подходит для БД.
